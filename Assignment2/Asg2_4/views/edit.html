<html>
<head>
  <title>Update Form</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body class="bg-info">
  <br><br>
  <br>
      <div class="row">
        <div class="col-md-4 offset-md-4" style="background-color: #fff; margin-top:25px; padding:20px;">
            <h3>Edit Student</h3>
            <form action="/edit" method="post">
              <input type="hidden" name="_id" id="_id" value="" /> 
                <div class="form-group">
                    <label>First Name</label>
                    <input type="text" class="form-control" name="firstname" id="firstname" value="" />                  
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" class="form-control" name="lastname" id="lastname" value="" />                 
                </div>
                <div class="form-group">
                  <label>Email</label>
                  <input type="text" class="form-control" name="email" id="email" value="" />                 
              </div>
                        
                <div class="form-group">
                    <button type="submit" class="btn btn-warning">Edit</button>
                </div>
            </form>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            <script>
              let param = window.location.href.split("/");
              var _id = param.slice(-1)[0];
              $(document).ready(async function () {
                try {
                  var res = await fetch("/editstudent", {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json",
                      Accept: "application/json",
                    },
                    body: JSON.stringify({ _id: _id }),
                  });
        
                  var data = await res.json();
                  $("#_id").val(_id);
                  $("#firstname").val(data.data.firstname);
                  $("#lastname").val(data.data.lastname);
                  $("#email").val(data.data.email);
                } catch (err) {
                  console.log(err);
                }
              });
            </script>
        
        </div>
    </div>
</body>
</html>





